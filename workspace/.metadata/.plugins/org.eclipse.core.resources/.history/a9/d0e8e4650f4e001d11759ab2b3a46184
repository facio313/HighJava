<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper   PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="board">

<resultMap type="BoardVO" id="boardMap">
	<id column="board_no" property="no"/>
	<result column="board_title" property="title"/>
	<result column="board_writer" property="writer"/>
	<result column="board_date" property="date"/>
	<result column="board_content" property="content"/>
</resultMap>

<insert id="insertBoard" parameterType="kr.or.ddit.board.vo.BoardVO">

insert into JDBC_BOARD
(BOARD_NO, BOARD_TITLE, BOARD_WRITER, BOARD_DATE, BOARD_CONTENT)
values (board_seq.nextval, ${title}, ${writer}, sysdate, ${content})

</insert>

<delete id="deleteBoard" parameterType="int">

delete from JDBC_BOARD where BOARD_NO = #{no}

</delete>

<update id="updateBoard" parameterType="BoardVO">

update JDBC_BOARD
set board_title = ${title},
board_writer = ${writer},
board_content = ${content}
where board_no = ${no}

</update>
   
<select id="checkBoard" parameterType="int" resultType="int">

select count(*) as cnt 
from JDBC_BOARD 
where board_no = #{no}

</select>

<select id="searchBoard" parameterType="BoardVO" resultMap="boardMap">

		select * from JDBC_BOARD where 1=1
		
		<if test="no > 0">
				and board_no = #{memId}
		</if>
		<if test="memName != null and memName != ''">
				and mem_name = #{memName}
		</if>
		<if test="memTel != null and memTel != ''">
				and mem_tel = #{memTel}
		</if>
		<if test="memAddr != null and memAddr != ''">
				and mem_addr like '%' || #{memAddr} || '%'
		</if>
				
</select>

<select id="selectAllMember" resultType="MemberVO">

select mem_id as memId, 
mem_name as memName, 
mem_tel as memTel, 
mem_addr as memAddr
from mymember

</select>
   
<select id="selectMember" parameterType="String" resultType="MemberVO">

select mem_id as memId, 
mem_name as memName, 
mem_tel as memTel, 
mem_addr as memAddr
from mymember
where mem_id = #{memId}

</select>




</mapper>